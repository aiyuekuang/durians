(self.webpackChunkdurians=self.webpackChunkdurians||[]).push([[918],{65388:function(on,Je,o){"use strict";o.r(Je),o.d(Je,{FormPro:function(){return ze},LoginPro:function(){return Jr},ModalPro:function(){return we},TablePro:function(){return or},TreePro:function(){return ir}});var mr=o(9783),Ue=o.n(mr),hr=o(15009),J=o.n(hr),pr=o(99289),ue=o.n(pr),gr=o(97857),r=o.n(gr),xr=o(19632),ce=o.n(xr),Fr=o(5574),_=o.n(Fr),Ge=o(48689),Qe=o(24969),Pr=o(82099),Xe=o(86738),yr=o(96074),ne=o(45360),Ye=o(60940),qe=o(42075),Fe=o(83622),E=o(67294),jr=o(64599),_e=o.n(jr),Sr=o(11238),$r=o(81354),te=o.n($r),ge=function(e,v,m){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(l){};if(e)return Sr.ZP.post(e,{data:v}).then(function(l){l.code==0?m(l):(u(l),ne.ZP.error(l.msg))}).catch(function(l){u(l),console.log(l)});console.log("\u6CA1\u6709\u4F20\u9012URL")},er=function(e,v){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=_e()(e),l;try{var a=function(){var s=l.value,d=s==null?void 0:s.proConfig,h=r()({},s.fieldProps);d!=null&&d.isKeyword&&(s.hideInSearch=!0),s.editable===!1&&(m?h=r()(r()({},h),{},{disabled:!0}):h=r()(r()({},h),{},{disabled:!1})),!s.request&&d!==null&&d!==void 0&&d.url&&(s.valueType==="select"||s.valueType==="treeSelect")&&(h=r()(r()({},h),{},{maxTagCount:"responsive"},s.fieldProps),s.request=function(){var Z=ue()(J()().mark(function y(P,j){var S;return J()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return S=[],C.next=3,v(d.url,r()(r()({},P),typeof d.params=="function"?d.params(P,j):d.params||{}),function(B){S=d.setData(B)});case 3:return C.abrupt("return",S);case 4:case"end":return C.stop()}},y)}));return function(y,P){return Z.apply(this,arguments)}}()),s.fieldProps=h};for(u.s();!(l=u.n()).done;)a()}catch(x){u.e(x)}finally{u.f()}return e},Cr=function(e,v,m){var u=te().enc.Utf8.parse(v),l=te().enc.Utf8.parse(m);return te().AES.encrypt(e,u,{mode:te().mode.ECB,padding:te().pad.Pkcs7}).toString()},ln=function(e,v,m){var u=CryptoJS.enc.Utf8.parse(v),l=CryptoJS.enc.Utf8.parse(m);return CryptoJS.AES.decrypt(e,u,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7})},Tr=function(e){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.find(function(m){return e(m)})},rr=o(89451),nr=o(16434),Ir=o(59847),Ne=o(91619),n=o(85893);function Ke(w,e,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"value",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"children",l=(0,Ne.Z)(w),a=_e()(l),x;try{for(a.s();!(x=a.n()).done;){var s=x.value;s[m]===e?s.children=v:s.children&&(s.children=Ke(s.children,e,v,m,u))}}catch(d){a.e(d)}finally{a.f()}return l}var Zr=function(e){var v=e.ajax,m=v===void 0?ge:v,u=e.rowKey,l=u===void 0?"value":u,a=e.fieldProps,x=a.fieldNames,s=a.params,d=s===void 0?function(C){return{}}:s,h=a.url,Z=a.setData,y=(0,E.useState)([]),P=_()(y,2),j=P[0],S=P[1];(0,E.useEffect)(function(){F({},r()({},d({})))},[]);var F=function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return m(h,r()(r()({},d(B)),T),function(V){var D=Z(V);S(function(L){return B[l]?Ke(L,B[l],D,l):D})})};return(0,n.jsx)(Ir.Z,r()(r()({placeholder:"\u8BF7\u9009\u62E9",treeDataSimpleMode:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"}},e==null?void 0:e.fieldProps),{},{loadData:F,treeData:j}))},Ar=Zr,Rr=o(2058),Er=o(88484),Br=function(e){var v=e.title,m=v===void 0?"\u4E0A\u4F20":v,u=e.fieldPropsUpload,l=u===void 0?{}:u,a=e.url,x=a===void 0?"/upload":a,s=e.setData,d=s===void 0?function(){}:s,h=e.onChange,Z=h===void 0?function(){}:h,y=e.value,P=y===void 0?[]:y,j=e.ajaxSuccess,S=j===void 0?function(I){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(I==null?void 0:I.code)===0&&c()}:j,F=e.ajaxError,C=F===void 0?function(I){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(I==null?void 0:I.code)!==0&&c()}:F,B=(0,E.useState)([]),T=_()(B,2),V=T[0],D=T[1];(0,E.useEffect)(function(){D(L(P))},[]);var L=function(c){return c&&c.length?typeof c=="string"?JSON.parse(c):JSON.stringify(c):c};console.log(555,l,x,P);var M=r()({name:"file",action:x,fileList:V,onChange:function(c){console.log(77877,c),c.file.status!=="uploading"&&console.log(c.file,c.fileList),c.file.status==="done"?(S(c.file.response,function(t){Z(L(c.fileList.map(function(W){return r()(r()({},W),{},{url:d(c.file.response)})}))),ne.ZP.success("".concat(c.file.name," \u4E0A\u4F20\u6210\u529F"))}),C(c.file.response,function(t){console.log(666,t),t&&ne.ZP.error(t.msg)})):c.file.status==="error"&&ne.ZP.error("".concat(c.file.name," \u4E0A\u4F20\u5931\u8D25")),D(c.fileList)}},l);return(0,n.jsx)(Rr.Z,r()(r()({},M),{},{children:(0,n.jsx)(Fe.ZP,{variant:"solid",icon:(0,n.jsx)(Er.Z,{}),children:m})}))},tr=Br,Dr=o(85576),Lr=function(e){var v=e.title,m=v===void 0?"\u57FA\u7840":v,u=e.handleOk,l=u===void 0?function(T){T()}:u,a=e.Content,x=a===void 0?function(){return(0,n.jsx)("div",{children:"\u793A\u4F8B"})}:a,s=e.children,d=s===void 0?(0,n.jsx)("div",{children:"\u70B9\u51FB"}):s,h=e.fieldProps,Z=h===void 0?{}:h,y=(0,E.useState)(!1),P=_()(y,2),j=P[0],S=P[1],F=function(){S(!0)},C=function(){l(function(){S(!1)})},B=function(){S(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:F,style:{width:"max-content"},children:d}),(0,n.jsx)(Dr.Z,r()(r()({title:m,open:j,onOk:C,onCancel:B},Z),{},{children:typeof x=="function"?(0,n.jsx)(x,{isModalOpen:j,setIsModalOpen:S}):x}))]})},we=Lr,br=function(e){var v=e.title,m=v===void 0?"\u9009\u62E9":v,u=e.tableFieldProps,l=u===void 0?{}:u,a=e.modalFieldProps,x=a===void 0?{}:a,s=e.value,d=s===void 0?[]:s,h=e.onChange,Z=(0,E.useState)(d),y=_()(Z,2),P=y[0],j=y[1];return(0,E.useEffect)(function(){j(d)},[d]),(0,n.jsx)(we,r()(r()({Content:(0,n.jsx)(or,r()(r()({},l),{},{value:P,onSelectChange:function(F){j(F)},fieldProps:r()({},l.fieldProps)}))},x),{},{handleOk:function(F){h(P),F()},children:(0,n.jsx)(Fe.ZP,{type:"link",variant:"link",children:d&&d.length?"\u5DF2\u9009\u62E9".concat(d.length,"\u4E2A"):m})}))},Or=br,Ur=o(98691),Nr=function(e){var v=e.children,m=(0,E.useContext)(rr.L_);return(0,n.jsx)(rr.L_.Provider,{value:r()(r()({},m),{},{valueTypeMap:{treeSelectPro:{renderFormItem:function(l,a){return console.log(7666,a),(0,n.jsx)(Ar,r()({},a))}},uploadPro:{render:function(l){return console.log(6566,l),(0,n.jsx)(tr,{value:l,fieldPropsUpload:{disabled:!0}})},renderFormItem:function(l,a){return console.log(67655,a),(0,n.jsx)(tr,r()({},a.fieldProps))}},tableSelect:{renderFormItem:function(l,a){return console.log(667555,a),(0,n.jsx)(Or,r()(r()({},a),a.fieldProps))},render:function(l){return(0,n.jsxs)(n.Fragment,{children:["\u5DF2\u9009\u62E9",l.length,"\u9879"]})}},captcha:{renderFormItem:function(l,a){console.log(66766,a);var x=(a==null?void 0:a.fieldProps)||{},s=x.ajax,d=s===void 0?ge:s,h=x.url,Z=h===void 0?"":h,y=x.phoneName,P=y===void 0?"phone":y,j=x.name,S=j===void 0?"captcha":j;return(0,n.jsx)(nr.Z,r()(r()({noStyle:!0,captchaProps:{},fieldProps:{prefix:(0,n.jsx)(Ur.Z,{})},phoneName:P,name:S,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},a),{},{onGetCaptcha:function(){var F=ue()(J()().mark(function C(B){var T;return J()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:T={},T[P]=B,d(Z,T,function(L){ne.ZP.success("\u624B\u673A\u53F7 ".concat(B," \u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F!"))},function(){throw new Error("\u83B7\u53D6\u9A8C\u8BC1\u7801\u9519\u8BEF")});case 3:case"end":return D.stop()}},C)}));return function(C){return F.apply(this,arguments)}}()}))}}}}),children:v})},ar=Nr,Kr=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u6807\u9898",dataIndex:"title",copyable:!0,ellipsis:!0,tooltip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}],wr=function(e){var v,m,u=e.ajax,l=u===void 0?ge:u,a=e.url,x=a===void 0?"https://proapi.azurewebsites.net/github/issues":a,s=e.addUrl,d=e.editUrl,h=e.deleteUrl,Z=e.deleteFields,y=Z===void 0?"idList":Z,P=e.deleteField,j=P===void 0?null:P,S=e.deleteFieldIsArr,F=S===void 0?!1:S,C=e.deleteParams,B=C===void 0?{}:C,T=e.deleteBatchHidden,V=T===void 0?!1:T,D=e.addFormProFieldProps,L=D===void 0?{}:D,M=e.actionWidth,I=M===void 0?100:M,c=e.fieldProps,t=c===void 0?{search:{},columns:Kr,rowKey:"id"}:c,W=e.setData,k=W===void 0?function(f){var i;return f==null||(i=f.data)===null||i===void 0?void 0:i.records}:W,z=e.setTotal,ae=z===void 0?function(f){var i;return f==null||(i=f.data)===null||i===void 0?void 0:i.total}:z,le=e.setMsg,Ae=le===void 0?function(f){return f==null?void 0:f.msg}:le,ee=e.actionBar,ye=ee===void 0?[]:ee,ie=e.paginationAlias,G=ie===void 0?{pageIndex:"pageIndex",pageSize:"pageSize"}:ie,ve=e.tableAlertOptionRenderPro,fe=ve===void 0?[]:ve,me=e.treeFieldProps,O=me===void 0?null:me,A=e.paramsFun,U=A===void 0?function(f){return f}:A,N=e.treeParamsFun,he=N===void 0?function(f){return{treeId:f}}:N,H=e.treeWidth,je=H===void 0?200:H,pe=e.value,xe=pe===void 0?null:pe,Re=e.onSelectChange,Se=Re===void 0?null:Re,Y=e.keywordField,R=Y===void 0?null:Y,q=e.keywordPlaceholder,oe=q===void 0?null:q,re=(0,E.useState)({}),b=_()(re,2),$e=b[0],Ee=b[1];console.log("treeFieldProps",$e);var Be=(0,E.useState)({}),De=_()(Be,2),Ce=De[0],Te=De[1],Le=function(i){console.log("selectedRowKeys changed: ",i),Se&&Se(i)},Ve=(0,E.useState)((t==null||(v=t.pagination)===null||v===void 0?void 0:v.pageSize)||10),dr=_()(Ve,2),nn=dr[0],tn=dr[1],de=(0,E.useRef)(),se=(0,E.useRef)(),sr=t.rowKey||"id",be=[].concat(ce()(d?[function(f){var i=f.record;return(0,n.jsx)(ur,{title:"\u7F16\u8F91",id:sr,record:i,children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})}]:[]),ce()(ye),ce()(h?[function(f){var i=f.record;return(0,n.jsx)(Xe.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){cr([i[sr]],function(){},!1)},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})}]:[]));(0,E.useEffect)(function(){se!=null&&se.current&&Te(se.current.getFieldsValue())},[]);var ur=function(i){var p=i.children,g=i.record,$=i.id,K=i.title,Q=K===void 0?"\u65B0\u589E":K,Oe=typeof t.columns=="function"?t.columns("add"):t.columns,X=s,Ze={};return $&&g!==null&&g!==void 0&&g[$]&&(Ze[$]=g==null?void 0:g[$],d&&(X=d)),(0,n.jsx)(ze,r()(r()({isEdit:$&&(g==null?void 0:g[$]),ajax:l},L),{},{url:X,finishFun:function(){var We;(We=de.current)===null||We===void 0||We.reload()},record:r()(r()(r()({},g),$e),Ze),fieldProps:r()({columns:Oe.map(function(fr){return r()(r()({},fr),{},{width:null})}),title:Q},L.fieldProps),children:p}))},an=function(i,p){return(0,n.jsx)("div",{className:"durians_table_pro_action",children:be.map(function(g,$){return(0,n.jsxs)(E.Fragment,{children:[(0,n.jsx)(g,{record:p,formRef:se,action:de.current}),be.length>1&&$<be.length-1?(0,n.jsx)(yr.Z,{type:"vertical"}):null]},$)})})},cr=function(i){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,$=i;!F&&!g&&($=i[0]);var K=r()({},B);if(g)K[y]=$;else if(j)K[j]=$;else{var Q=typeof(t==null?void 0:t.rowKey)=="function"?t==null?void 0:t.rowKey({}):t==null?void 0:t.rowKey;K[Q||"id"]=$}l(h,K,function(Oe){var X;ne.ZP.success(Ae(Oe)),(X=de.current)===null||X===void 0||X.reload(),de.current.clearSelected(),p()})},vr=typeof t.columns=="function"?t.columns("table"):t.columns||[],Ie=Tr(function(f){var i;return f==null||(i=f.proConfig)===null||i===void 0?void 0:i.isKeyword},vr);return console.log(678,I),(0,n.jsx)(ar,{children:(0,n.jsxs)("div",{className:"durians_table_body",children:[O?(0,n.jsx)("div",{className:"durians_table_body_l",style:{width:je},children:(0,n.jsx)(ir,r()(r()({ajax:l},O),{},{fieldProps:r()({onSelect:function(i){var p;Ee(function(g){var $=(0,Ne.Z)(g);return r()(r()({},$),he(i))}),(p=de.current)===null||p===void 0||p.reload()}},O.fieldProps)}))}):null,(0,n.jsx)("div",{className:"durians_table_body_r",style:r()({},O?{maxWidth:"calc(100% - ".concat(je+8,"px)")}:{}),children:(0,n.jsx)(Pr.Z,r()(r()(r()({formRef:se,defaultSize:"small",scroll:{x:"max-content"},rowSelection:h&&!V||fe.length||Se?r()(r()({selections:[Ye.Z.SELECTION_ALL,Ye.Z.SELECTION_INVERT],preserveSelectedRowKeys:!0},xe?{selectedRowKeys:xe}:{}),{},{onChange:Le}):!1,tableAlertRender:function(i){var p=i.selectedRowKeys,g=i.selectedRows,$=i.onCleanSelected;return console.log(p,g),(0,n.jsx)(qe.Z,{size:24,children:(0,n.jsxs)("span",{children:["\u5DF2\u9009 ",p.length," \u9879",(0,n.jsx)("a",{style:{marginInlineStart:8},onClick:$,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(i){var p=i.selectedRowKeys,g=i.selectedRows,$=i.onCleanSelected;return(0,n.jsxs)(qe.Z,{size:16,children:[h&&!V?(0,n.jsx)(we,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",Content:function(){return"\u786E\u5B9A\u5220\u9664\uFF1F"},handleOk:function(Q){cr(p,function(){Q()})},children:(0,n.jsx)(Fe.ZP,{variant:"solid",size:"small",icon:(0,n.jsx)(Ge.Z,{}),danger:!0,children:"\u6279\u91CF\u5220\u9664"},"danger")}):null,fe.map(function(K,Q){return(0,n.jsx)(K,{selectedRowKeys:p,selectedRows:g,onCleanSelected:$,formRef:se,actionRef:de,searchValues:Ce},Q)})]})},actionRef:de,request:function(){var f=ue()(J()().mark(function i(p,g,$){var K,Q;return J()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(K=t.dataSource,Q=r()({},p),Q[G.pageIndex]=p.current,Q[G.pageSize]=p.pageSize,Te(Q),!x){X.next=8;break}return X.next=8,l(x,U(r()({},Q)),function(Ze){console.log(Ze),K=Ze});case 8:return X.abrupt("return",Promise.resolve({data:K?k(K):[],success:!0,total:K?ae(K):0}));case 9:case"end":return X.stop()}},i)}));return function(i,p,g){return f.apply(this,arguments)}}(),rowKey:"id",form:{syncToUrl:!1},dateFormatter:"string"},t),{},{params:r()(r()({},$e),(t==null?void 0:t.params)||{})},t.pagination?r()(r()({},t==null?void 0:t.pagination),{},{pageSize:nn,onChange:function(i,p){var g;if(t!=null&&(g=t.pagination)!==null&&g!==void 0&&g.onChange){var $;t==null||($=t.pagination)===null||$===void 0||$.onChange(i,p)}tn(p)}}):{}),{},{options:r()(r()({},Ie?{search:{name:Ie.formItemProps?Ie.formItemProps.name:Ie.dataIndex,placeholder:"\u8BF7\u8F93\u5165".concat(Ie.title),allowClear:!0}}:{}),{},{setting:{listsHeight:400}},t.options),columns:[].concat(ce()(er(vr,l)),ce()(be.length?[{title:"\u64CD\u4F5C",dataIndex:"actionTablePro",fixed:"right",hideInSearch:!0,actionWidth:I,render:an}]:[])),search:r()({labelWidth:"auto"},(t==null?void 0:t.search)||{}),toolBarRender:function(i){var p=t.toolBarRender;return p===!1?!1:[].concat(ce()(s?[(0,n.jsx)(ur,{children:(0,n.jsx)(Fe.ZP,{variant:"solid",icon:(0,n.jsx)(Qe.Z,{}),type:"primary",children:"\u65B0\u5EFA"},"button")})]:[]),ce()((p==null?void 0:p.map(function(g){return typeof g=="function"?(0,n.jsx)(g,{action:i,formRef:se,searchValues:Ce}):g}))||[]))},toolbar:r()(r()({},t.toolbar),R?{search:r()({onSearch:function(i){var p;Ee(function(g){console.log(666,i);var $=(0,Ne.Z)(g);return r()(r()({},$),{},Ue()({},R,i))}),(p=de.current)===null||p===void 0||p.reload()},placeholder:"\u8BF7\u8F93\u5165".concat(oe),allowClear:!0},(t==null||(m=t.toolbar)===null||m===void 0?void 0:m.search)||{})}:{})}))})]})})},or=wr,Mr=o(87547),lr=o(94149),kr=o(24454),Hr=o(68262),Me=o(5966),zr=o(63434),Vr=o(9361),ke=o(56140),Pe=o(99191),dn=(0,Pe.df)([{id:"SHA256",fun:function(e){return te().SHA256(e).toString(te().enc.Base64)}},{id:"MD5",fun:function(e){return te().MD5(e).toString(te().enc.Hex)}}]),He="autoLogin",Wr=function(e){var v=e.ajax,m=v===void 0?ge:v,u=e.url,l=e.captchaUrl,a=e.loginFormFieldProps,x=e.hasSmsLogin,s=x===void 0?!1:x,d=e.hasAccountLogin,h=d===void 0?!0:d,Z=e.phoneField,y=Z===void 0?"mobile":Z,P=e.usernameField,j=P===void 0?"username":P,S=e.passwordField,F=S===void 0?"password":S,C=e.captchaField,B=C===void 0?"captcha":C,T=e.extraPasswordText,V=T===void 0?"":T,D=e.secretKey,L=D===void 0?null:D,M=e.setData,I=M===void 0?function(O){return O.data}:M,c=e.tokenField,t=c===void 0?"token":c,W=e.callback,k=W===void 0?function(){}:W,z=e.BottomDom,ae=z===void 0?function(O){return(0,n.jsx)(n.Fragment,{})}:z,le=e.encrypt,Ae=Vr.Z.useToken(),ee=Ae.token,ye=(0,E.useState)("account"),ie=_()(ye,2),G=ie[0],ve=ie[1],fe=(0,E.useRef)();(0,E.useEffect)(function(){var O=(0,Pe.pv)(He);O&&me((0,Pe.pv)(He))},[]);var me=function(A){var U=r()({},A);U[F]=L?Cr(U[F]+V,L,L):U[F],le&&(U[F]=le(U[F])),m(u,U,function(N){(0,Pe.KN)(t,I(N)),A.autoLogin&&(0,Pe.ok)(He,A),k(N)},!1)};return(0,n.jsx)("div",{style:{backgroundColor:ee.colorBgContainer},className:"crm_login_body",children:(0,n.jsxs)(Hr.U,r()(r()({formRef:fe,title:"\u767B\u5F55",subTitle:"\u6B22\u8FCE\u767B\u5F55\u7CFB\u7EDF",initialValues:Ue()(Ue()({},j,""),F,""),onFinish:function(){var O=ue()(J()().mark(function A(U){var N;return J()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,fe.current.validateFields();case 2:return N=H.sent,N&&me(U),H.abrupt("return",!0);case 5:case"end":return H.stop()}},A)}));return function(A){return O.apply(this,arguments)}}()},a),{},{children:[(0,n.jsxs)(ke.Z,{centered:!0,activeKey:G,onChange:function(A){return ve(A)},children:[(0,n.jsx)(ke.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55",disabled:!h},"account"),(0,n.jsx)(ke.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55",disabled:!s},"phone")]}),G==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{name:j,fieldProps:{size:"large",prefix:(0,n.jsx)(Mr.Z,{className:"prefixIcon"})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,n.jsx)(Me.Z.Password,{name:F,fieldProps:{size:"large",prefix:(0,n.jsx)(lr.Z,{className:"prefixIcon"}),strengthText:"\u5BC6\u7801\u5E94\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u548C\u7279\u6B8A\u5B57\u7B26\uFF0C\u957F\u5EA6\u81F3\u5C11\u4E3A8\u4E2A\u5B57\u7B26",statusRender:function(A){var U=function(){return A&&A.length>12?"ok":A&&A.length>6?"pass":"poor"},N=U();return N==="pass"?(0,n.jsx)("div",{style:{color:ee.colorWarning},children:"\u5F3A\u5EA6\uFF1A\u4E2D"}):N==="ok"?(0,n.jsx)("div",{style:{color:ee.colorSuccess},children:"\u5F3A\u5EA6\uFF1A\u5F3A"}):(0,n.jsx)("div",{style:{color:ee.colorError},children:"\u5F3A\u5EA6\uFF1A\u5F31"})}},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]}),G==="phone"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(kr.Z,{className:"prefixIcon"})},name:y,placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,n.jsx)(nr.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(lr.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(A,U){return A?"".concat(U," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},phoneName:y,name:B,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var O=ue()(J()().mark(function A(U){var N;return J()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:N={},N[y]=U,m(l,r()({},N),function(je){ne.ZP.success("\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001\uFF0C\u8BF7\u67E5\u770B\u624B\u673A\u77ED\u4FE1")});case 3:case"end":return H.stop()}},A)}));return function(A){return O.apply(this,arguments)}}()})]}),(0,n.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,n.jsx)(zr.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,n.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]}),(0,n.jsx)(ae,{})]}))})},Jr=Wr,Gr=o(77646),Qr=function(e,v){var m=e.layoutType,u=m===void 0?"ModalForm":m,l=e.fieldProps,a=l===void 0?{}:l,x=e.url,s=e.ajax,d=s===void 0?ge:s,h=e.finishFun,Z=h===void 0?function(){}:h,y=e.setMsg,P=y===void 0?function(M){return M.msg}:y,j=e.children,S=j===void 0?(0,n.jsx)(Fe.ZP,{children:"\u70B9\u51FB\u6211"}):j,F=e.detailUrl,C=e.detailSetData,B=e.isEdit,T=B===void 0?!1:B,V=e.record,D=V===void 0?{}:V,L=E.useRef();return(0,n.jsx)(ar,{children:(0,n.jsx)(Gr.Z,r()(r()(r()({isKeyPressSubmit:!0,formRef:L,layoutType:u,request:function(){var M=ue()(J()().mark(function I(c){var t;return J()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(t=c,!(F&&T)){k.next=4;break}return k.next=4,d(F,r()({},c),function(z){t=C(z)});case 4:return k.abrupt("return",t||{});case 5:case"end":return k.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),onFinish:ue()(J()().mark(function M(){var I,c,t,W=arguments;return J()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return I=W.length>0&&W[0]!==void 0?W[0]:{},c=!1,t=r()(r()({},D),I),console.log(I),z.next=6,d(x,v(t,D),function(ae){ne.ZP.success(P(ae)),Z(ae,t),c=!0});case 6:return z.abrupt("return",c);case 7:case"end":return z.stop()}},M)}))},a),u==="ModalForm"?{modalProps:{getContainer:document.getElementById("root")},onOpenChange:function(I){a!=null&&a.onOpenChange&&a.onOpenChange(I)}}:{drawerProps:{destroyOnClose:!0}}),{},{params:r()(r()({},D),(a==null?void 0:a.params)||{}),trigger:S,columns:er((a==null?void 0:a.columns)||[],d,T)}))})},ze=Qr,Xr=o(85418),Yr=o(57381),qr=o(17960),_r=o(16664),en=o(86548),rn=function(e){var v=e.title,m=v===void 0?"\u9009\u62E9":v,u=e.ajax,l=u===void 0?ge:u,a=e.url,x=a===void 0?null:a,s=e.params,d=s===void 0?function(Y){return{}}:s,h=e.addUrl,Z=e.editUrl,y=e.deleteUrl,P=e.deleteFields,j=P===void 0?"idList":P,S=e.deleteField,F=S===void 0?"id":S,C=e.deleteFieldIsArr,B=C===void 0?!1:C,T=e.deleteParams,V=T===void 0?{}:T,D=e.addFormProFieldProps,L=D===void 0?{}:D,M=e.setData,I=M===void 0?function(Y){return Y.data}:M,c=e.setMsg,t=c===void 0?function(Y){return Y.msg}:c,W=e.editField,k=W===void 0?"id":W,z=e.fieldProps,ae=z===void 0?{fieldNames:{title:"title",key:"key",children:"children"}}:z,le=e.isSelect,Ae=le===void 0?!1:le,ee=e.detail,ye=ee===void 0?!0:ee,ie=e.rowKey,G=ie===void 0?"id":ie,ve=e.isLoadData,fe=ve===void 0?!1:ve,me=(0,E.useState)("loading"),O=_()(me,2),A=O[0],U=O[1],N=ae.fieldNames,he=N===void 0?{title:"title",key:"key",children:"children"}:N,H={ajax:l,addUrl:h,editUrl:Z,deleteUrl:y,deleteFields:j,deleteField:F,editField:k,deleteFieldIsArr:B,deleteParams:V,addFormProFieldProps:L};(0,E.useEffect)(function(){x?pe({},r()({},d({}))):U([])},[]);var je=function(R){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=R;!B&&!q&&(oe=R[0]);var re=r()({},V);q?re[j]=oe:re[F]=oe,l(y,re,function(b){ne.ZP.success(t(b)),pe({},r()({},d({})))})},pe=function(R){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l(x,r()(r()({},d(R)),q),function(oe){var re=I(oe);U(function(b){return R.key?Ke(b,R.key,re,he.key):re})})},xe=function(R){var q=R.children,oe=R.ajax,re=R.addUrl,b=R.record,$e=R.fieldProps,Ee=(0,E.useState)(k&&(b==null?void 0:b[G])),Be=_()(Ee,2),De=Be[0],Ce=Be[1],Te=re,Le={};return k&&b!==null&&b!==void 0&&b[G]&&(Le[k]=b==null?void 0:b[G],Z&&(Te=Z)),(0,n.jsx)(ze,r()(r()({isEdit:De,finishFun:function(){pe({},r()({},d({})))},ajax:oe,url:Te},L),{},{fieldProps:r()(r()(r()({},L.fieldProps),$e),{},{onOpenChange:function(){Ce(b?k&&(b==null?void 0:b[G]):!1)}}),record:r()(r()(r()({},b),Le),(L==null?void 0:L.record)||{}),children:q}))},Re=function(R){return[{key:"1",label:(0,n.jsx)(xe,r()(r()({},H),{},{addUrl:h,record:r()(r()({},R),{},{id:R[G]}),fieldProps:{readonly:!0},children:(0,n.jsx)("a",{children:"\u8BE6\u60C5"})})),icon:(0,n.jsx)(_r.Z,{}),disabled:!ye},{key:"2",label:(0,n.jsx)(xe,r()(r()({},H),{},{addUrl:h,record:r()(r()({},R),{},{id:R[G]}),children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})),icon:(0,n.jsx)(en.Z,{}),disabled:!Z},{key:"3",label:(0,n.jsx)(Xe.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){je([R[G]])},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})}),icon:(0,n.jsx)(Ge.Z,{}),disabled:!y}]},Se=function(R){return(0,n.jsx)(Xr.Z,{menu:{items:Re(R)},getPopupContainer:function(){return document.body},trigger:["contextMenu"],children:(0,n.jsx)("span",{children:R[he.title]})})};return(0,n.jsxs)("div",{className:"durians_tree_body",children:[(0,n.jsxs)("div",{className:"durians_tree_body_title",children:[(0,n.jsx)("div",{className:"durians_tree_body_title_l",children:m}),(0,n.jsx)("div",{className:"durians_tree_body_title_r",children:(0,n.jsx)(xe,r()(r()({},H),{},{children:(0,n.jsx)(Qe.Z,{})}))})]}),(0,n.jsx)("div",{className:"durians_tree_body_tree",children:A==="loading"&&x?(0,n.jsx)(Yr.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200}}):(0,n.jsx)(qr.Z,r()(r()({},fe?{loadData:pe}:{}),{},{treeData:A,titleRender:Se},ae))})]})},ir=rn},42480:function(){},24654:function(){}}]);
