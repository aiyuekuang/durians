(self.webpackChunkdurians=self.webpackChunkdurians||[]).push([[326],{55300:function(on,Xe,o){"use strict";o.r(Xe),o.d(Xe,{FormPro:function(){return He},LoginPro:function(){return Qr},ModalPro:function(){return we},TablePro:function(){return dr},TreePro:function(){return ur}});var pr=o(9783),Ue=o.n(pr),gr=o(15009),V=o.n(gr),xr=o(99289),ue=o.n(xr),Fr=o(97857),r=o.n(Fr),Pr=o(19632),ce=o.n(Pr),yr=o(5574),X=o.n(yr),Ye=o(48689),qe=o(24969),jr=o(82099),_e=o(86738),Sr=o(96074),ne=o(45360),er=o(60940),rr=o(42075),je=o(28036),R=o(67294),$r=o(64599),nr=o.n($r),Cr=o(11238),Ir=o(81354),te=o.n(Ir),ge=function(e,v,h){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(t){};if(e)return Cr.ZP.post(e,{data:v}).then(function(t){t.code==0?h(t):(u(t),ne.ZP.error(t.msg))}).catch(function(t){t(t),console.log(t)});console.log("\u6CA1\u6709\u4F20\u9012URL")},tr=function(e,v){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=nr()(e),t;try{var i=function(){var d=t.value,s=d==null?void 0:d.proConfig,m=r()({},d.fieldProps);s!=null&&s.isKeyword&&(d.hideInSearch=!0),d.editable===!1&&(h?m=r()(r()({},m),{},{disabled:!0}):m=r()(r()({},m),{},{disabled:!1})),!d.request&&s!==null&&s!==void 0&&s.url&&(d.valueType==="select"||d.valueType==="treeSelect")&&(m=r()(r()({},m),{},{maxTagCount:"responsive"},d.fieldProps),d.request=function(){var Z=ue()(V()().mark(function y(F,$){var P;return V()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return P=[],C.next=3,v(s.url,r()(r()({},F),typeof s.params=="function"?s.params(F,$):s.params||{}),function(D){P=s.setData(D)});case 3:return C.abrupt("return",P);case 4:case"end":return C.stop()}},y)}));return function(y,F){return Z.apply(this,arguments)}}()),d.fieldProps=m};for(u.s();!(t=u.n()).done;)i()}catch(x){u.e(x)}finally{u.f()}return e},Tr=function(e,v,h){var u=te().enc.Utf8.parse(v),t=te().enc.Utf8.parse(h);return te().AES.encrypt(e,u,{mode:te().mode.ECB,padding:te().pad.Pkcs7}).toString()},ln=function(e,v,h){var u=CryptoJS.enc.Utf8.parse(v),t=CryptoJS.enc.Utf8.parse(h);return CryptoJS.AES.decrypt(e,u,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7})},Zr=function(e){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.find(function(h){return e(h)})},ar=o(89451),or=o(16434),Ar=o(59847),Ne=o(68652),n=o(85893);function Ke(w,e,v){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"value",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"children",t=(0,Ne.Z)(w),i=nr()(t),x;try{for(i.s();!(x=i.n()).done;){var d=x.value;d[h]===e?d.children=v:d.children&&(d.children=Ke(d.children,e,v,h,u))}}catch(s){i.e(s)}finally{i.f()}return t}var Rr=function(e){var v=e.ajax,h=v===void 0?ge:v,u=e.rowKey,t=u===void 0?"value":u,i=e.fieldProps,x=i.fieldNames,d=i.params,s=d===void 0?function(C){return{}}:d,m=i.url,Z=i.setData,y=(0,R.useState)([]),F=X()(y,2),$=F[0],P=F[1];(0,R.useEffect)(function(){j({},r()({},s({})))},[]);var j=function(D){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return h(m,r()(r()({},s(D)),A),function(H){var b=Z(H);P(function(I){return D[t]?Ke(I,D[t],b,t):b})})};return(0,n.jsx)(Ar.Z,r()(r()({placeholder:"\u8BF7\u9009\u62E9",treeDataSimpleMode:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"}},e==null?void 0:e.fieldProps),{},{loadData:j,treeData:$}))},Er=Rr,Br=o(2058),Dr=o(88484),br=function(e){var v=e.title,h=v===void 0?"\u4E0A\u4F20":v,u=e.fieldPropsUpload,t=u===void 0?{}:u,i=e.url,x=i===void 0?"/upload":i,d=e.setData,s=d===void 0?function(){}:d,m=e.onChange,Z=m===void 0?function(){}:m,y=e.value,F=y===void 0?[]:y,$=e.ajaxSuccess,P=$===void 0?function(E){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(E==null?void 0:E.code)===0&&c()}:$,j=e.ajaxError,C=j===void 0?function(E){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(E==null?void 0:E.code)!==0&&c()}:j,D=(0,R.useState)([]),A=X()(D,2),H=A[0],b=A[1];(0,R.useEffect)(function(){b(I(F))},[]);var I=function(c){return c&&c.length?typeof c=="string"?JSON.parse(c):JSON.stringify(c):c};console.log(555,t,x,F);var O=r()({name:"file",action:x,fileList:H,onChange:function(c){console.log(77877,c),c.file.status!=="uploading"&&console.log(c.file,c.fileList),c.file.status==="done"?(P(c.file.response,function(a){Z(I(c.fileList.map(function(U){return r()(r()({},U),{},{url:s(c.file.response)})}))),ne.ZP.success("".concat(c.file.name," \u4E0A\u4F20\u6210\u529F"))}),C(c.file.response,function(a){console.log(666,a),a&&ne.ZP.error(a.msg)})):c.file.status==="error"&&ne.ZP.error("".concat(c.file.name," \u4E0A\u4F20\u5931\u8D25")),b(c.fileList)}},t);return(0,n.jsx)(Br.Z,r()(r()({},O),{},{children:(0,n.jsx)(je.ZP,{variant:"solid",icon:(0,n.jsx)(Dr.Z,{}),children:h})}))},lr=br,Lr=o(85576),Or=function(e){var v=e.title,h=v===void 0?"\u57FA\u7840":v,u=e.handleOk,t=u===void 0?function(A){A()}:u,i=e.Content,x=i===void 0?function(){return(0,n.jsx)("div",{children:"\u793A\u4F8B"})}:i,d=e.children,s=d===void 0?(0,n.jsx)("div",{children:"\u70B9\u51FB"}):d,m=e.fieldProps,Z=m===void 0?{}:m,y=(0,R.useState)(!1),F=X()(y,2),$=F[0],P=F[1],j=function(){P(!0)},C=function(){t(function(){P(!1)})},D=function(){P(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:j,style:{width:"max-content"},children:s}),(0,n.jsx)(Lr.Z,r()(r()({title:h,open:$,onOk:C,onCancel:D},Z),{},{children:typeof x=="function"?(0,n.jsx)(x,{isModalOpen:$,setIsModalOpen:P}):x}))]})},we=Or,Ur=function(e){var v=e.title,h=v===void 0?"\u9009\u62E9":v,u=e.tableFieldProps,t=u===void 0?{}:u,i=e.modalFieldProps,x=i===void 0?{}:i,d=e.value,s=d===void 0?[]:d,m=e.onChange,Z=(0,R.useState)(s),y=X()(Z,2),F=y[0],$=y[1];return(0,R.useEffect)(function(){$(s)},[s]),(0,n.jsx)(we,r()(r()({Content:(0,n.jsx)(dr,r()(r()({},t),{},{value:F,onSelectChange:function(j){$(j)},fieldProps:r()({},t.fieldProps)}))},x),{},{handleOk:function(j){m(F),j()},children:(0,n.jsx)(je.ZP,{type:"link",variant:"link",children:s&&s.length?"\u5DF2\u9009\u62E9".concat(s.length,"\u4E2A"):h})}))},Nr=Ur,Kr=o(98691),wr=function(e){var v=e.children,h=(0,R.useContext)(ar.L_);return(0,n.jsx)(ar.L_.Provider,{value:r()(r()({},h),{},{valueTypeMap:{treeSelectPro:{renderFormItem:function(t,i){return console.log(7666,i),(0,n.jsx)(Er,r()({},i))}},uploadPro:{render:function(t){return console.log(6566,t),(0,n.jsx)(lr,{value:t,fieldPropsUpload:{disabled:!0}})},renderFormItem:function(t,i){return console.log(67655,i),(0,n.jsx)(lr,r()({},i.fieldProps))}},tableSelect:{renderFormItem:function(t,i){return console.log(667555,i),(0,n.jsx)(Nr,r()(r()({},i),i.fieldProps))},render:function(t){return(0,n.jsxs)(n.Fragment,{children:["\u5DF2\u9009\u62E9",t.length,"\u9879"]})}},captcha:{renderFormItem:function(t,i){console.log(66766,i);var x=(i==null?void 0:i.fieldProps)||{},d=x.ajax,s=d===void 0?ge:d,m=x.url,Z=m===void 0?"":m,y=x.phoneName,F=y===void 0?"phone":y,$=x.name,P=$===void 0?"captcha":$;return(0,n.jsx)(or.Z,r()(r()({noStyle:!0,captchaProps:{},fieldProps:{prefix:(0,n.jsx)(Kr.Z,{})},phoneName:F,name:P,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},i),{},{onGetCaptcha:function(){var j=ue()(V()().mark(function C(D){var A;return V()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:A={},A[F]=D,s(Z,A,function(I){ne.ZP.success("\u624B\u673A\u53F7 ".concat(D," \u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F!"))},function(){throw new Error("\u83B7\u53D6\u9A8C\u8BC1\u7801\u9519\u8BEF")});case 3:case"end":return b.stop()}},C)}));return function(C){return j.apply(this,arguments)}}()}))}}}}),children:v})},ir=wr,Mr=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u6807\u9898",dataIndex:"title",copyable:!0,ellipsis:!0,tooltip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}],kr=function(e){var v,h,u=e.ajax,t=u===void 0?ge:u,i=e.url,x=i===void 0?"https://proapi.azurewebsites.net/github/issues":i,d=e.addUrl,s=e.editUrl,m=e.deleteUrl,Z=e.deleteFields,y=Z===void 0?"idList":Z,F=e.deleteField,$=F===void 0?null:F,P=e.deleteFieldIsArr,j=P===void 0?!1:P,C=e.deleteParams,D=C===void 0?{}:C,A=e.deleteBatchHidden,H=A===void 0?!1:A,b=e.addFormProFieldProps,I=b===void 0?{}:b,O=e.actionWidth,E=O===void 0?100:O,c=e.fieldProps,a=c===void 0?{search:{},columns:Mr,rowKey:"id"}:c,U=e.setData,M=U===void 0?function(f){var l;return f==null||(l=f.data)===null||l===void 0?void 0:l.records}:U,Y=e.setTotal,xe=Y===void 0?function(f){var l;return f==null||(l=f.data)===null||l===void 0?void 0:l.total}:Y,ve=e.setMsg,fe=ve===void 0?function(f){return f==null?void 0:f.msg}:ve,he=e.actionBar,Fe=he===void 0?[]:he,ae=e.paginationAlias,Q=ae===void 0?{pageIndex:"pageIndex",pageSize:"pageSize"}:ae,oe=e.tableAlertOptionRenderPro,me=oe===void 0?[]:oe,k=e.treeFieldProps,T=k===void 0?null:k,N=e.paramsFun,z=N===void 0?function(f){return f}:N,le=e.treeParamsFun,W=le===void 0?function(f){return{treeId:f}}:le,Pe=e.treeWidth,Ve=Pe===void 0?200:Pe,We=e.value,pe=We===void 0?null:We,Ze=e.onSelectChange,ie=Ze===void 0?null:Ze,ye=e.keywordField,Ae=ye===void 0?null:ye,Re=e.keywordPlaceholder,q=Re===void 0?null:Re,B=(0,R.useState)({}),_=X()(B,2),re=_[0],ee=_[1],L=(0,R.useState)({}),Ee=X()(L,2),Be=Ee[0],$e=Ee[1],Je=function(l){console.log("selectedRowKeys changed: ",l),ie&&ie(l)},De=(0,R.useState)((a==null||(v=a.pagination)===null||v===void 0?void 0:v.pageSize)||10),Ce=X()(De,2),be=Ce[0],Ge=Ce[1],de=(0,R.useRef)(),se=(0,R.useRef)(),cr=a.rowKey||"id",Le=[].concat(ce()(s?[function(f){var l=f.record;return(0,n.jsx)(vr,{title:"\u7F16\u8F91",id:cr,record:l,children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})}]:[]),ce()(Fe),ce()(m?[function(f){var l=f.record;return(0,n.jsx)(_e.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){fr([l[cr]],function(){},!1)},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})}]:[]));(0,R.useEffect)(function(){se!=null&&se.current&&$e(se.current.getFieldsValue())},[]);var vr=function(l){var p=l.children,g=l.record,S=l.id,K=l.title,J=K===void 0?"\u65B0\u589E":K,Oe=typeof a.columns=="function"?a.columns("add"):a.columns,G=d,Te={};return S&&g!==null&&g!==void 0&&g[S]&&(Te[S]=g==null?void 0:g[S],s&&(G=s)),(0,n.jsx)(He,r()(r()({isEdit:S&&(g==null?void 0:g[S]),ajax:t},I),{},{url:G,finishFun:function(){var Qe;(Qe=de.current)===null||Qe===void 0||Qe.reload()},record:r()(r()(r()({},g),re),Te),fieldProps:r()({columns:Oe.map(function(mr){return r()(r()({},mr),{},{width:null})}),title:J},I.fieldProps),children:p}))},an=function(l,p){return(0,n.jsx)("div",{className:"durians_table_pro_action",children:Le.map(function(g,S){return(0,n.jsxs)(R.Fragment,{children:[(0,n.jsx)(g,{record:p,formRef:se,action:de.current}),Le.length>1&&S<Le.length-1?(0,n.jsx)(Sr.Z,{type:"vertical"}):null]},S)})})},fr=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,S=l;!j&&!g&&(S=l[0]);var K=r()({},D);if(g)K[y]=S;else if($)K[$]=S;else{var J=typeof(a==null?void 0:a.rowKey)=="function"?a==null?void 0:a.rowKey({}):a==null?void 0:a.rowKey;K[J||"id"]=S}t(m,K,function(Oe){var G;ne.ZP.success(fe(Oe)),(G=de.current)===null||G===void 0||G.reload(),de.current.clearSelected(),p()})},hr=typeof a.columns=="function"?a.columns("table"):a.columns||[],Ie=Zr(function(f){var l;return f==null||(l=f.proConfig)===null||l===void 0?void 0:l.isKeyword},hr);return console.log(678,E),(0,n.jsx)(ir,{children:(0,n.jsxs)("div",{className:"durians_table_body",children:[T?(0,n.jsx)("div",{className:"durians_table_body_l",style:{width:Ve},children:(0,n.jsx)(ur,r()(r()({ajax:t},T),{},{fieldProps:r()({onSelect:function(l){var p;ee(function(g){var S=(0,Ne.Z)(g);return r()(r()({},S),W(l))}),(p=de.current)===null||p===void 0||p.reload()}},T.fieldProps)}))}):null,(0,n.jsx)("div",{className:"durians_table_body_r",style:r()({},T?{maxWidth:"calc(100% - ".concat(Ve+8,"px)")}:{}),children:(0,n.jsx)(jr.Z,r()(r()({formRef:se,defaultSize:"small",scroll:{x:"100%"},rowSelection:m&&!H||me.length||ie?r()(r()({selections:[er.Z.SELECTION_ALL,er.Z.SELECTION_INVERT],preserveSelectedRowKeys:!0},pe?{selectedRowKeys:pe}:{}),{},{onChange:Je}):!1,tableAlertRender:function(l){var p=l.selectedRowKeys,g=l.selectedRows,S=l.onCleanSelected;return console.log(p,g),(0,n.jsx)(rr.Z,{size:24,children:(0,n.jsxs)("span",{children:["\u5DF2\u9009 ",p.length," \u9879",(0,n.jsx)("a",{style:{marginInlineStart:8},onClick:S,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(l){var p=l.selectedRowKeys,g=l.selectedRows,S=l.onCleanSelected;return(0,n.jsxs)(rr.Z,{size:16,children:[m&&!H?(0,n.jsx)(we,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",Content:function(){return"\u786E\u5B9A\u5220\u9664\uFF1F"},handleOk:function(J){fr(p,function(){J()})},children:(0,n.jsx)(je.ZP,{variant:"solid",size:"small",icon:(0,n.jsx)(Ye.Z,{}),danger:!0,children:"\u6279\u91CF\u5220\u9664"},"danger")}):null,me.map(function(K,J){return(0,n.jsx)(K,{selectedRowKeys:p,selectedRows:g,onCleanSelected:S,formRef:se,actionRef:de,searchValues:Be},J)})]})},actionRef:de,request:function(){var f=ue()(V()().mark(function l(p,g,S){var K,J;return V()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(K=a.dataSource,J=r()({},p),J[Q.pageIndex]=p.current,J[Q.pageSize]=p.pageSize,$e(J),!x){G.next=8;break}return G.next=8,t(x,z(r()({},J)),function(Te){console.log(Te),K=Te});case 8:return G.abrupt("return",Promise.resolve({data:K?M(K):[],success:!0,total:K?xe(K):0}));case 9:case"end":return G.stop()}},l)}));return function(l,p,g){return f.apply(this,arguments)}}(),rowKey:"id",form:{syncToUrl:!1},dateFormatter:"string"},a),{},{params:r()(r()({},re),(a==null?void 0:a.params)||{}),pagination:r()(r()({},a==null?void 0:a.pagination),{},{pageSize:be,onChange:function(l,p){var g;if(a!=null&&(g=a.pagination)!==null&&g!==void 0&&g.onChange){var S;a==null||(S=a.pagination)===null||S===void 0||S.onChange(l,p)}Ge(p)}}),options:r()(r()({},Ie?{search:{name:Ie.formItemProps?Ie.formItemProps.name:Ie.dataIndex,placeholder:"\u8BF7\u8F93\u5165".concat(Ie.title),allowClear:!0}}:{}),{},{setting:{listsHeight:400}},a.options),columns:[].concat(ce()(tr(hr,t)),ce()(Le.length?[{title:"\u64CD\u4F5C",dataIndex:"actionTablePro",fixed:"right",hideInSearch:!0,actionWidth:E,render:an}]:[])),search:r()({labelWidth:"auto"},(a==null?void 0:a.search)||{}),toolBarRender:function(l){var p=a.toolBarRender;return p===!1?!1:[].concat(ce()(d?[(0,n.jsx)(vr,{children:(0,n.jsx)(je.ZP,{variant:"solid",icon:(0,n.jsx)(qe.Z,{}),type:"primary",children:"\u65B0\u5EFA"},"button")})]:[]),ce()((p==null?void 0:p.map(function(g){return typeof g=="function"?(0,n.jsx)(g,{action:l,formRef:se,searchValues:Be}):g}))||[]))},toolbar:r()(r()({},a.toolbar),Ae?{search:r()({onSearch:function(l){var p;ee(function(g){console.log(666,l);var S=(0,Ne.Z)(g);return r()(r()({},S),{},Ue()({},Ae,l))}),(p=de.current)===null||p===void 0||p.reload()},placeholder:"\u8BF7\u8F93\u5165".concat(q),allowClear:!0},(a==null||(h=a.toolbar)===null||h===void 0?void 0:h.search)||{})}:{})}))})]})})},dr=kr,zr=o(87547),sr=o(94149),Hr=o(24454),Vr=o(68262),Me=o(5966),Wr=o(63434),Jr=o(9361),ke=o(56140),Se=o(99191),dn=(0,Se.df)([{id:"SHA256",fun:function(e){return te().SHA256(e).toString(te().enc.Base64)}},{id:"MD5",fun:function(e){return te().MD5(e).toString(te().enc.Hex)}}]),ze="autoLogin",Gr=function(e){var v=e.ajax,h=v===void 0?ge:v,u=e.url,t=e.captchaUrl,i=e.loginFormFieldProps,x=e.hasSmsLogin,d=x===void 0?!1:x,s=e.hasAccountLogin,m=s===void 0?!0:s,Z=e.phoneField,y=Z===void 0?"mobile":Z,F=e.usernameField,$=F===void 0?"username":F,P=e.passwordField,j=P===void 0?"password":P,C=e.captchaField,D=C===void 0?"captcha":C,A=e.extraPasswordText,H=A===void 0?"":A,b=e.secretKey,I=b===void 0?null:b,O=e.setData,E=O===void 0?function(k){return k.data}:O,c=e.tokenField,a=c===void 0?"token":c,U=e.callback,M=U===void 0?function(){}:U,Y=e.BottomDom,xe=Y===void 0?function(k){return(0,n.jsx)(n.Fragment,{})}:Y,ve=Jr.Z.useToken(),fe=ve.token,he=(0,R.useState)("account"),Fe=X()(he,2),ae=Fe[0],Q=Fe[1],oe=(0,R.useRef)();(0,R.useEffect)(function(){var k=(0,Se.pv)(ze);k&&me((0,Se.pv)(ze))},[]);var me=function(T){var N=r()({},T);N[j]=I?Tr(N[j]+H,I,I):N[j],h(u,N,function(z){(0,Se.KN)(a,E(z)),T.autoLogin&&(0,Se.ok)(ze,T),M(z)},!1)};return(0,n.jsx)("div",{style:{backgroundColor:fe.colorBgContainer},className:"crm_login_body",children:(0,n.jsxs)(Vr.U,r()(r()({formRef:oe,title:"\u767B\u5F55",subTitle:"\u6B22\u8FCE\u767B\u5F55\u7CFB\u7EDF",initialValues:Ue()(Ue()({},$,""),j,""),onFinish:function(){var k=ue()(V()().mark(function T(N){var z;return V()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,oe.current.validateFields();case 2:return z=W.sent,z&&me(N),W.abrupt("return",!0);case 5:case"end":return W.stop()}},T)}));return function(T){return k.apply(this,arguments)}}()},i),{},{children:[(0,n.jsxs)(ke.Z,{centered:!0,activeKey:ae,onChange:function(T){return Q(T)},children:[(0,n.jsx)(ke.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55",disabled:!m},"account"),(0,n.jsx)(ke.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55",disabled:!d},"phone")]}),ae==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{name:$,fieldProps:{size:"large",prefix:(0,n.jsx)(zr.Z,{className:"prefixIcon"})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,n.jsx)(Me.Z.Password,{name:j,fieldProps:{size:"large",prefix:(0,n.jsx)(sr.Z,{className:"prefixIcon"}),strengthText:"\u5BC6\u7801\u5E94\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u548C\u7279\u6B8A\u5B57\u7B26\uFF0C\u957F\u5EA6\u81F3\u5C11\u4E3A8\u4E2A\u5B57\u7B26",statusRender:function(T){var N=function(){return T&&T.length>12?"ok":T&&T.length>6?"pass":"poor"},z=N();return z==="pass"?(0,n.jsx)("div",{style:{color:fe.colorWarning},children:"\u5F3A\u5EA6\uFF1A\u4E2D"}):z==="ok"?(0,n.jsx)("div",{style:{color:fe.colorSuccess},children:"\u5F3A\u5EA6\uFF1A\u5F3A"}):(0,n.jsx)("div",{style:{color:fe.colorError},children:"\u5F3A\u5EA6\uFF1A\u5F31"})}},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]}),ae==="phone"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(Hr.Z,{className:"prefixIcon"})},name:y,placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,n.jsx)(or.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(sr.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(T,N){return T?"".concat(N," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},phoneName:y,name:D,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var k=ue()(V()().mark(function T(N){var z;return V()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:z={},z[y]=N,h(t,r()({},z),function(Pe){ne.ZP.success("\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001\uFF0C\u8BF7\u67E5\u770B\u624B\u673A\u77ED\u4FE1")});case 3:case"end":return W.stop()}},T)}));return function(T){return k.apply(this,arguments)}}()})]}),(0,n.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,n.jsx)(Wr.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,n.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]}),(0,n.jsx)(xe,{})]}))})},Qr=Gr,Xr=o(77646),Yr=function(e){var v=e.layoutType,h=v===void 0?"ModalForm":v,u=e.fieldProps,t=u===void 0?{}:u,i=e.url,x=e.ajax,d=x===void 0?ge:x,s=e.finishFun,m=s===void 0?function(){}:s,Z=e.setMsg,y=Z===void 0?function(I){return I.msg}:Z,F=e.children,$=F===void 0?(0,n.jsx)(je.ZP,{children:"\u70B9\u51FB\u6211"}):F,P=e.detailUrl,j=e.detailSetData,C=e.isEdit,D=C===void 0?!1:C,A=e.record,H=A===void 0?{}:A,b=R.useRef();return(0,n.jsx)(ir,{children:(0,n.jsx)(Xr.Z,r()(r()(r()({formRef:b,layoutType:h,request:function(){var I=ue()(V()().mark(function O(E){var c;return V()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(c=E,!(P&&D)){U.next=4;break}return U.next=4,d(P,r()({},E),function(M){c=j(M)});case 4:return U.abrupt("return",c||{});case 5:case"end":return U.stop()}},O)}));return function(O){return I.apply(this,arguments)}}(),onFinish:ue()(V()().mark(function I(){var O,E,c,a=arguments;return V()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return O=a.length>0&&a[0]!==void 0?a[0]:{},E=!1,c=r()(r()({},H),O),console.log(O),M.next=6,d(i,c,function(Y){ne.ZP.success(y(Y)),m(Y,c),E=!0});case 6:return M.abrupt("return",E);case 7:case"end":return M.stop()}},I)}))},t),h==="ModalForm"?{modalProps:{getContainer:document.getElementById("root")},onOpenChange:function(O){t!=null&&t.onOpenChange&&t.onOpenChange(O)}}:{drawerProps:{destroyOnClose:!0}}),{},{params:r()(r()({},H),(t==null?void 0:t.params)||{}),trigger:$,columns:tr(t==null?void 0:t.columns,d,D)}))})},He=Yr,qr=o(85418),_r=o(57381),en=o(17960),rn=o(16664),nn=o(86548),tn=function(e){var v=e.title,h=v===void 0?"\u9009\u62E9":v,u=e.ajax,t=u===void 0?ge:u,i=e.url,x=i===void 0?"https://proapi.azurewebsites.net/github/issues":i,d=e.params,s=d===void 0?function(q){return{}}:d,m=e.addUrl,Z=e.editUrl,y=e.deleteUrl,F=e.deleteFields,$=F===void 0?"idList":F,P=e.deleteField,j=P===void 0?"id":P,C=e.deleteFieldIsArr,D=C===void 0?!1:C,A=e.deleteParams,H=A===void 0?{}:A,b=e.addFormProFieldProps,I=b===void 0?{}:b,O=e.setData,E=O===void 0?function(q){return q.data}:O,c=e.setMsg,a=c===void 0?function(q){return q.msg}:c,U=e.editField,M=U===void 0?"id":U,Y=e.fieldProps,xe=Y===void 0?{fieldNames:{title:"title",key:"key",children:"children"}}:Y,ve=e.isSelect,fe=ve===void 0?!1:ve,he=e.detail,Fe=he===void 0?!0:he,ae=e.rowKey,Q=ae===void 0?"id":ae,oe=e.isLoadData,me=oe===void 0?!1:oe,k=(0,R.useState)("loading"),T=X()(k,2),N=T[0],z=T[1],le=xe.fieldNames,W=(0,R.useState)(Math.random()),Pe=X()(W,2),Ve=Pe[0],We=Pe[1],pe={ajax:t,addUrl:m,editUrl:Z,deleteUrl:y,deleteFields:$,deleteField:j,editField:M,deleteFieldIsArr:D,deleteParams:H,addFormProFieldProps:I};(0,R.useEffect)(function(){ie({},r()({},s({})))},[]);var Ze=function(B){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re=B;!D&&!_&&(re=B[0]);var ee=r()({},H);_?ee[$]=re:ee[j]=re,t(y,ee,function(L){ne.ZP.success(a(L)),ie({},r()({},s({})))})},ie=function(B){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t(x,r()(r()({},s(B)),_),function(re){var ee=E(re);z(function(L){return B.key?Ke(L,B.key,ee,le.key):ee})})},ye=function(B){var _=B.children,re=B.ajax,ee=B.addUrl,L=B.record,Ee=B.fieldProps,Be=(0,R.useState)(M&&(L==null?void 0:L[Q])),$e=X()(Be,2),Je=$e[0],De=$e[1],Ce=ee,be={};return M&&L!==null&&L!==void 0&&L[Q]&&(be[M]=L==null?void 0:L[Q],Z&&(Ce=Z)),(0,n.jsx)(He,r()(r()({isEdit:Je,finishFun:function(){ie({},r()({},s({})))},ajax:re,url:Ce},I),{},{fieldProps:r()(r()(r()({},I.fieldProps),Ee),{},{onOpenChange:function(){De(L?M&&(L==null?void 0:L[Q]):!1)}}),record:r()(r()(r()({},L),be),(I==null?void 0:I.record)||{}),children:_}))},Ae=function(B){return[{key:"1",label:(0,n.jsx)(ye,r()(r()({},pe),{},{addUrl:m,record:r()(r()({},B),{},{id:B[Q]}),fieldProps:{readonly:!0},children:(0,n.jsx)("a",{children:"\u8BE6\u60C5"})})),icon:(0,n.jsx)(rn.Z,{}),disabled:!Fe},{key:"2",label:(0,n.jsx)(ye,r()(r()({},pe),{},{addUrl:m,record:r()(r()({},B),{},{id:B[Q]}),children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})),icon:(0,n.jsx)(nn.Z,{}),disabled:!Z},{key:"3",label:(0,n.jsx)(_e.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){Ze([B[Q]])},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})}),icon:(0,n.jsx)(Ye.Z,{}),disabled:!y}]},Re=function(B){return(0,n.jsx)(qr.Z,{menu:{items:Ae(B)},getPopupContainer:function(){return document.body},trigger:["contextMenu"],children:(0,n.jsx)("span",{children:B[le.title]})})};return console.log("treeProps",pe),(0,n.jsxs)("div",{className:"durians_tree_body",children:[(0,n.jsxs)("div",{className:"durians_tree_body_title",children:[(0,n.jsx)("div",{className:"durians_tree_body_title_l",children:h}),(0,n.jsx)("div",{className:"durians_tree_body_title_r",children:(0,n.jsx)(ye,r()(r()({},pe),{},{children:(0,n.jsx)(qe.Z,{})}))})]}),(0,n.jsx)("div",{className:"durians_tree_body_tree",children:N==="loading"?(0,n.jsx)(_r.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200}}):(0,n.jsx)(en.Z,r()(r()({},me?{loadData:ie}:{}),{},{treeData:N,titleRender:Re},xe))})]})},ur=tn},42480:function(){},24654:function(){}}]);
