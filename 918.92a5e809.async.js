(self.webpackChunkdurians=self.webpackChunkdurians||[]).push([[918],{65388:function(ln,Ge,o){"use strict";o.r(Ge),o.d(Ge,{FormPro:function(){return He},LoginPro:function(){return Jr},ModalPro:function(){return Ke},TablePro:function(){return or},TreePro:function(){return ir}});var mr=o(9783),Ue=o.n(mr),hr=o(15009),W=o.n(hr),pr=o(99289),ve=o.n(pr),gr=o(97857),r=o.n(gr),xr=o(19632),fe=o.n(xr),Fr=o(5574),re=o.n(Fr),Je=o(48689),Qe=o(24969),Pr=o(75695),Xe=o(86738),yr=o(96074),oe=o(45360),Ye=o(24880),qe=o(42075),Fe=o(83622),E=o(67294),jr=o(64599),_e=o.n(jr),$r=o(11238),Sr=o(81354),Pe=o.n(Sr),ge=function(e,c,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(t){};if(e)return $r.ZP.post(e,{data:c}).then(function(t){t.code==0?m(t):(v(t),oe.ZP.error(t.msg))}).catch(function(t){v(t),console.log(t)});console.log("\u6CA1\u6709\u4F20\u9012URL")},er=function(e,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=_e()(e),t;try{var i=function(){var d=t.value,s=d==null?void 0:d.proConfig,x=r()({},d.fieldProps);s!=null&&s.isKeyword&&(d.hideInSearch=!0),d.editable===!1&&(m?x=r()(r()({},x),{},{disabled:!0}):x=r()(r()({},x),{},{disabled:!1})),!d.request&&s!==null&&s!==void 0&&s.url&&(d.valueType==="select"||d.valueType==="treeSelect")&&(x=r()(r()({},x),{},{maxTagCount:"responsive"},d.fieldProps),d.request=function(){var T=ve()(W()().mark(function $(F,S){var y;return W()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return y=[],C.next=3,c(s.url,r()(r()({},F),typeof s.params=="function"?s.params(F,S):s.params||{}),function(b){y=s.setData(b)});case 3:return C.abrupt("return",y);case 4:case"end":return C.stop()}},$)}));return function($,F){return T.apply(this,arguments)}}()),d.fieldProps=x};for(v.s();!(t=v.n()).done;)i()}catch(g){v.e(g)}finally{v.f()}return e},Cr=function(e,c,m){var v=Pe().enc.Utf8.parse(c),t=Pe().enc.Utf8.parse(m);return Pe().AES.encrypt(e,v,{mode:Pe().mode.ECB,padding:Pe().pad.Pkcs7}).toString()},dn=function(e,c,m){var v=CryptoJS.enc.Utf8.parse(c),t=CryptoJS.enc.Utf8.parse(m);return CryptoJS.AES.decrypt(e,v,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7})},Tr=function(e){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return c.find(function(m){return e(m)})},Ir=function(e){var c=Object.keys(e)[0],m=e[c];return{sortBy:c,sortOrder:m}},rr=o(89451),nr=o(16434),Zr=o(59847),Ne=o(91619),n=o(85893);function we(M,e,c){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"value",v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"children",t=(0,Ne.Z)(M),i=_e()(t),g;try{for(i.s();!(g=i.n()).done;){var d=g.value;d[m]===e?d.children=c:d.children&&(d.children=we(d.children,e,c,m,v))}}catch(s){i.e(s)}finally{i.f()}return t}var Rr=function(e){var c=e.ajax,m=c===void 0?ge:c,v=e.rowKey,t=v===void 0?"value":v,i=e.fieldProps,g=i.fieldNames,d=i.params,s=d===void 0?function(C){return{}}:d,x=i.url,T=i.setData,$=(0,E.useState)([]),F=re()($,2),S=F[0],y=F[1];(0,E.useEffect)(function(){P({},r()({},s({})))},[]);var P=function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return m(x,r()(r()({},s(b)),I),function(k){var B=T(k);y(function(D){return b[t]?we(D,b[t],B,t):B})})};return(0,n.jsx)(Zr.Z,r()(r()({placeholder:"\u8BF7\u9009\u62E9",treeDataSimpleMode:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"}},e==null?void 0:e.fieldProps),{},{loadData:P,treeData:S}))},Ar=Rr,Er=o(2058),br=o(88484),Br=function(e){var c=e.title,m=c===void 0?"\u4E0A\u4F20":c,v=e.fieldPropsUpload,t=v===void 0?{}:v,i=e.url,g=i===void 0?"/upload":i,d=e.setData,s=d===void 0?function(){}:d,x=e.onChange,T=x===void 0?function(){}:x,$=e.value,F=$===void 0?[]:$,S=e.ajaxSuccess,y=S===void 0?function(Z){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(Z==null?void 0:Z.code)===0&&u()}:S,P=e.ajaxError,C=P===void 0?function(Z){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};(Z==null?void 0:Z.code)!==0&&u()}:P,b=(0,E.useState)([]),I=re()(b,2),k=I[0],B=I[1];(0,E.useEffect)(function(){B(D(F))},[]);var D=function(u){return u&&u.length?typeof u=="string"?JSON.parse(u):JSON.stringify(u):u};console.log(555,t,g,F);var X=r()({name:"file",action:g,fileList:k,onChange:function(u){console.log(77877,u),u.file.status!=="uploading"&&console.log(u.file,u.fileList),u.file.status==="done"?(y(u.file.response,function(a){T(D(u.fileList.map(function(N){return r()(r()({},N),{},{url:s(u.file.response)})}))),oe.ZP.success("".concat(u.file.name," \u4E0A\u4F20\u6210\u529F"))}),C(u.file.response,function(a){console.log(666,a),a&&oe.ZP.error(a.msg)})):u.file.status==="error"&&oe.ZP.error("".concat(u.file.name," \u4E0A\u4F20\u5931\u8D25")),B(u.fileList)}},t);return(0,n.jsx)(Er.Z,r()(r()({},X),{},{children:(0,n.jsx)(Fe.ZP,{variant:"solid",icon:(0,n.jsx)(br.Z,{}),children:m})}))},tr=Br,Dr=o(85576),Or=function(e){var c=e.title,m=c===void 0?"\u57FA\u7840":c,v=e.handleOk,t=v===void 0?function(I){I()}:v,i=e.Content,g=i===void 0?function(){return(0,n.jsx)("div",{children:"\u793A\u4F8B"})}:i,d=e.children,s=d===void 0?(0,n.jsx)("div",{children:"\u70B9\u51FB"}):d,x=e.fieldProps,T=x===void 0?{}:x,$=(0,E.useState)(!1),F=re()($,2),S=F[0],y=F[1],P=function(){y(!0)},C=function(){t(function(){y(!1)})},b=function(){y(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:P,style:{width:"max-content"},children:s}),(0,n.jsx)(Dr.Z,r()(r()({title:m,open:S,onOk:C,onCancel:b},T),{},{children:typeof g=="function"?(0,n.jsx)(g,{isModalOpen:S,setIsModalOpen:y}):g}))]})},Ke=Or,Lr=function(e){var c=e.title,m=c===void 0?"\u9009\u62E9":c,v=e.tableFieldProps,t=v===void 0?{}:v,i=e.modalFieldProps,g=i===void 0?{}:i,d=e.value,s=d===void 0?[]:d,x=e.onChange,T=(0,E.useState)(s),$=re()(T,2),F=$[0],S=$[1];return(0,E.useEffect)(function(){S(s)},[s]),(0,n.jsx)(Ke,r()(r()({Content:(0,n.jsx)(or,r()(r()({},t),{},{value:F,onSelectChange:function(P){S(P)},fieldProps:r()({},t.fieldProps)}))},g),{},{handleOk:function(P){x(F),P()},children:(0,n.jsx)(Fe.ZP,{type:"link",variant:"link",children:s&&s.length?"\u5DF2\u9009\u62E9".concat(s.length,"\u4E2A"):m})}))},Ur=Lr,Nr=o(98691),wr=function(e){var c=e.children,m=(0,E.useContext)(rr.L_);return(0,n.jsx)(rr.L_.Provider,{value:r()(r()({},m),{},{valueTypeMap:{treeSelectPro:{renderFormItem:function(t,i){return console.log(7666,i),(0,n.jsx)(Ar,r()({},i))}},uploadPro:{render:function(t){return console.log(6566,t),(0,n.jsx)(tr,{value:t,fieldPropsUpload:{disabled:!0}})},renderFormItem:function(t,i){return console.log(67655,i),(0,n.jsx)(tr,r()({},i.fieldProps))}},tableSelect:{renderFormItem:function(t,i){return console.log(667555,i),(0,n.jsx)(Ur,r()(r()({},i),i.fieldProps))},render:function(t){return(0,n.jsxs)(n.Fragment,{children:["\u5DF2\u9009\u62E9",t.length,"\u9879"]})}},captcha:{renderFormItem:function(t,i){console.log(66766,i);var g=(i==null?void 0:i.fieldProps)||{},d=g.ajax,s=d===void 0?ge:d,x=g.url,T=x===void 0?"":x,$=g.phoneName,F=$===void 0?"phone":$,S=g.name,y=S===void 0?"captcha":S;return(0,n.jsx)(nr.Z,r()(r()({noStyle:!0,captchaProps:{},fieldProps:{prefix:(0,n.jsx)(Nr.Z,{})},phoneName:F,name:y,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},i),{},{onGetCaptcha:function(){var P=ve()(W()().mark(function C(b){var I;return W()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:I={},I[F]=b,s(T,I,function(D){oe.ZP.success("\u624B\u673A\u53F7 ".concat(b," \u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F!"))},function(){throw new Error("\u83B7\u53D6\u9A8C\u8BC1\u7801\u9519\u8BEF")});case 3:case"end":return B.stop()}},C)}));return function(C){return P.apply(this,arguments)}}()}))}}}}),children:c})},ar=wr,Kr=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u6807\u9898",dataIndex:"title",copyable:!0,ellipsis:!0,tooltip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}],Mr=function(e){var c,m,v=e.ajax,t=v===void 0?ge:v,i=e.url,g=i===void 0?"https://proapi.azurewebsites.net/github/issues":i,d=e.addUrl,s=e.editUrl,x=e.deleteUrl,T=e.deleteFields,$=T===void 0?"idList":T,F=e.deleteField,S=F===void 0?null:F,y=e.deleteFieldIsArr,P=y===void 0?!1:y,C=e.deleteParams,b=C===void 0?{}:C,I=e.deleteBatchHidden,k=I===void 0?!1:I,B=e.addFormProFieldProps,D=B===void 0?{}:B,X=e.actionWidth,Z=X===void 0?100:X,u=e.fieldProps,a=u===void 0?{search:{},columns:Kr,rowKey:"id"}:u,N=e.setData,G=N===void 0?function(h){var l;return h==null||(l=h.data)===null||l===void 0?void 0:l.records}:N,z=e.setTotal,J=z===void 0?function(h){var l;return h==null||(l=h.data)===null||l===void 0?void 0:l.total}:z,_=e.setMsg,ye=_===void 0?function(h){return h==null?void 0:h.msg}:_,me=e.actionBar,je=me===void 0?[]:me,ne=e.paginationAlias,Y=ne===void 0?{pageIndex:"pageIndex",pageSize:"pageSize"}:ne,ie=e.tableAlertOptionRenderPro,de=ie===void 0?[]:ie,xe=e.treeFieldProps,te=xe===void 0?null:xe,se=e.paramsFun,H=se===void 0?function(h){return h}:se,R=e.treeParamsFun,L=R===void 0?function(h){return{treeId:h}}:R,U=e.treeWidth,he=U===void 0?200:U,w=e.value,pe=w===void 0?null:w,Ae=e.onSelectChange,$e=Ae===void 0?null:Ae,q=e.keywordField,A=q===void 0?null:q,ee=e.keywordPlaceholder,le=ee===void 0?null:ee,ae=(0,E.useState)({}),O=re()(ae,2),Se=O[0],Ee=O[1];console.log("treeFieldProps",Se);var be=(0,E.useState)({}),Be=re()(be,2),Ce=Be[0],Te=Be[1],De=function(l){console.log("selectedRowKeys changed: ",l),$e&&$e(l)},Ve=(0,E.useState)((a==null||(c=a.pagination)===null||c===void 0?void 0:c.pageSize)||10),dr=re()(Ve,2),tn=dr[0],an=dr[1],ue=(0,E.useRef)(),ce=(0,E.useRef)(),sr=a.rowKey||"id",Oe=[].concat(fe()(s?[function(h){var l=h.record;return(0,n.jsx)(ur,{title:"\u7F16\u8F91",id:sr,record:l,children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})}]:[]),fe()(je),fe()(x?[function(h){var l=h.record;return(0,n.jsx)(Xe.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){cr([l[sr]],function(){},!1)},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})}]:[]));(0,E.useEffect)(function(){ce!=null&&ce.current&&Te(ce.current.getFieldsValue())},[]);var ur=function(l){var p=l.children,f=l.record,j=l.id,K=l.title,V=K===void 0?"\u65B0\u589E":K,Le=typeof a.columns=="function"?a.columns("add"):a.columns,Q=d,Ze={};return j&&f!==null&&f!==void 0&&f[j]&&(Ze[j]=f==null?void 0:f[j],s&&(Q=s)),(0,n.jsx)(He,r()(r()({isEdit:j&&(f==null?void 0:f[j]),ajax:t},D),{},{url:Q,finishFun:function(){var We;(We=ue.current)===null||We===void 0||We.reload()},record:r()(r()(r()({},f),Se),Ze),fieldProps:r()({columns:Le.map(function(fr){return r()(r()({},fr),{},{width:null})}),title:V},D.fieldProps),children:p}))},on=function(l,p){return(0,n.jsx)("div",{className:"durians_table_pro_action",children:Oe.map(function(f,j){return(0,n.jsxs)(E.Fragment,{children:[(0,n.jsx)(f,{record:p,formRef:ce,action:ue.current}),Oe.length>1&&j<Oe.length-1?(0,n.jsx)(yr.Z,{type:"vertical"}):null]},j)})})},cr=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,j=l;!P&&!f&&(j=l[0]);var K=r()({},b);if(f)K[$]=j;else if(S)K[S]=j;else{var V=typeof(a==null?void 0:a.rowKey)=="function"?a==null?void 0:a.rowKey({}):a==null?void 0:a.rowKey;K[V||"id"]=j}t(x,K,function(Le){var Q;oe.ZP.success(ye(Le)),(Q=ue.current)===null||Q===void 0||Q.reload(),ue.current.clearSelected(),p()})},vr=typeof a.columns=="function"?a.columns("table"):a.columns||[],Ie=Tr(function(h){var l;return h==null||(l=h.proConfig)===null||l===void 0?void 0:l.isKeyword},vr);return(0,n.jsx)(ar,{children:(0,n.jsxs)("div",{className:"durians_table_body",children:[te?(0,n.jsx)("div",{className:"durians_table_body_l",style:{width:he},children:(0,n.jsx)(ir,r()(r()({ajax:t},te),{},{fieldProps:r()({onSelect:function(l){var p;Ee(function(f){var j=(0,Ne.Z)(f);return r()(r()({},j),L(l))}),(p=ue.current)===null||p===void 0||p.reload()}},te.fieldProps)}))}):null,(0,n.jsx)("div",{className:"durians_table_body_r",style:r()({},te?{maxWidth:"calc(100% - ".concat(he+8,"px)")}:{}),children:(0,n.jsx)(Pr.Z,r()(r()(r()({formRef:ce,defaultSize:"small",scroll:{x:"max-content"},rowSelection:x&&!k||de.length||$e?r()(r()({selections:[Ye.Z.SELECTION_ALL,Ye.Z.SELECTION_INVERT],preserveSelectedRowKeys:!0},pe?{selectedRowKeys:pe}:{}),{},{onChange:De}):!1,tableAlertRender:function(l){var p=l.selectedRowKeys,f=l.selectedRows,j=l.onCleanSelected;return console.log(p,f),(0,n.jsx)(qe.Z,{size:24,children:(0,n.jsxs)("span",{children:["\u5DF2\u9009 ",p.length," \u9879",(0,n.jsx)("a",{style:{marginInlineStart:8},onClick:j,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(l){var p=l.selectedRowKeys,f=l.selectedRows,j=l.onCleanSelected;return(0,n.jsxs)(qe.Z,{size:16,children:[x&&!k?(0,n.jsx)(Ke,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",Content:function(){return"\u786E\u5B9A\u5220\u9664\uFF1F"},handleOk:function(V){cr(p,function(){V()})},children:(0,n.jsx)(Fe.ZP,{variant:"solid",size:"small",icon:(0,n.jsx)(Je.Z,{}),danger:!0,children:"\u6279\u91CF\u5220\u9664"},"danger")}):null,de.map(function(K,V){return(0,n.jsx)(K,{selectedRowKeys:p,selectedRows:f,onCleanSelected:j,formRef:ce,actionRef:ue,searchValues:Ce},V)})]})},actionRef:ue,request:function(){var h=ve()(W()().mark(function l(p,f,j){var K,V;return W()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(K=a.dataSource,V=r()({},p),V[Y.pageIndex]=p.current,V[Y.pageSize]=p.pageSize,console.log(6666,p,f,j),f&&Object.keys(f).length?V.sort=Ir(f):V.sort=null,Te(V),!g){Q.next=10;break}return Q.next=10,t(g,H(r()({},V)),function(Ze){console.log(Ze),K=Ze});case 10:return Q.abrupt("return",Promise.resolve({data:K?G(K):[],success:!0,total:K?J(K):0}));case 11:case"end":return Q.stop()}},l)}));return function(l,p,f){return h.apply(this,arguments)}}(),rowKey:"id",form:{syncToUrl:!1},dateFormatter:"string"},a),{},{params:r()(r()({},Se),(a==null?void 0:a.params)||{})},a.pagination?r()(r()({},a==null?void 0:a.pagination),{},{pageSize:tn,onChange:function(l,p){var f;if(a!=null&&(f=a.pagination)!==null&&f!==void 0&&f.onChange){var j;a==null||(j=a.pagination)===null||j===void 0||j.onChange(l,p)}an(p)}}):{}),{},{options:r()(r()({},Ie?{search:{name:Ie.formItemProps?Ie.formItemProps.name:Ie.dataIndex,placeholder:"\u8BF7\u8F93\u5165".concat(Ie.title),allowClear:!0}}:{}),{},{setting:{listsHeight:400}},a.options),columns:[].concat(fe()(er(vr,t)),fe()(Oe.length?[{title:"\u64CD\u4F5C",dataIndex:"actionTablePro",fixed:"right",hideInSearch:!0,actionWidth:Z,render:on}]:[])),search:r()({labelWidth:"auto"},(a==null?void 0:a.search)||{}),toolBarRender:function(l){var p=a.toolBarRender;return p===!1?!1:[].concat(fe()(d?[(0,n.jsx)(ur,{children:(0,n.jsx)(Fe.ZP,{variant:"solid",icon:(0,n.jsx)(Qe.Z,{}),type:"primary",children:"\u65B0\u5EFA"},"button")})]:[]),fe()((p==null?void 0:p.map(function(f){return typeof f=="function"?(0,n.jsx)(f,{action:l,formRef:ce,searchValues:Ce}):f}))||[]))},toolbar:r()(r()({},a.toolbar),A?{search:r()({onSearch:function(l){var p;Ee(function(f){console.log(666,l);var j=(0,Ne.Z)(f);return r()(r()({},j),{},Ue()({},A,l))}),(p=ue.current)===null||p===void 0||p.reload()},placeholder:"\u8BF7\u8F93\u5165".concat(le),allowClear:!0},(a==null||(m=a.toolbar)===null||m===void 0?void 0:m.search)||{})}:{})}))})]})})},or=Mr,kr=o(87547),lr=o(94149),zr=o(24454),Hr=o(68262),Me=o(5966),Vr=o(63434),Wr=o(9361),ke=o(56140),Re=o(62291),ze="autoLogin",Gr=function(e){var c=e.ajax,m=c===void 0?ge:c,v=e.url,t=e.captchaUrl,i=e.loginFormFieldProps,g=e.hasSmsLogin,d=g===void 0?!1:g,s=e.hasAccountLogin,x=s===void 0?!0:s,T=e.phoneField,$=T===void 0?"mobile":T,F=e.usernameField,S=F===void 0?"username":F,y=e.passwordField,P=y===void 0?"password":y,C=e.captchaField,b=C===void 0?"captcha":C,I=e.extraPasswordText,k=I===void 0?"":I,B=e.secretKey,D=B===void 0?null:B,X=e.setData,Z=X===void 0?function(H){return H.data}:X,u=e.tokenField,a=u===void 0?"token":u,N=e.callback,G=N===void 0?function(){}:N,z=e.BottomDom,J=z===void 0?function(){return(0,n.jsx)(n.Fragment,{})}:z,_=e.encrypt,ye=e.ForGetPassword,me=ye===void 0?function(){return(0,n.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})}:ye,je=Wr.Z.useToken(),ne=je.token,Y=(0,E.useState)("account"),ie=re()(Y,2),de=ie[0],xe=ie[1],te=(0,E.useRef)(),se=function(R){var L=r()({},R);L[P]=D?Cr(L[P]+k,D,D):L[P],_&&(L[P]=_(L[P])),m(v,L,function(U){(0,Re.KN)(a,Z(U)),R.autoLogin&&(0,Re.ok)(ze,R),G(U)},!1)};return(0,E.useEffect)(function(){var H=(0,Re.pv)(ze);H&&se((0,Re.pv)(ze))},[]),(0,n.jsx)("div",{style:{backgroundColor:ne.colorBgContainer},className:"crm_login_body",children:(0,n.jsxs)(Hr.U,r()(r()({formRef:te,title:"\u767B\u5F55",subTitle:"\u6B22\u8FCE\u767B\u5F55\u7CFB\u7EDF",initialValues:Ue()(Ue()({},S,""),P,""),onFinish:function(){var H=ve()(W()().mark(function R(L){var U;return W()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,te.current.validateFields();case 2:return U=w.sent,U&&se(L),w.abrupt("return",!0);case 5:case"end":return w.stop()}},R)}));return function(R){return H.apply(this,arguments)}}()},i),{},{children:[(0,n.jsxs)(ke.Z,{centered:!0,activeKey:de,onChange:function(R){return xe(R)},children:[(0,n.jsx)(ke.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55",disabled:!x},"account"),(0,n.jsx)(ke.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55",disabled:!d},"phone")]}),de==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{name:S,fieldProps:{size:"large",prefix:(0,n.jsx)(kr.Z,{className:"prefixIcon"})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,n.jsx)(Me.Z.Password,{name:P,fieldProps:{size:"large",prefix:(0,n.jsx)(lr.Z,{className:"prefixIcon"}),strengthText:"\u5BC6\u7801\u5E94\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u548C\u7279\u6B8A\u5B57\u7B26\uFF0C\u957F\u5EA6\u81F3\u5C11\u4E3A8\u4E2A\u5B57\u7B26",statusRender:function(R){var L=function(){return R&&R.length>12?"ok":R&&R.length>6?"pass":"poor"},U=L();return U==="pass"?(0,n.jsx)("div",{style:{color:ne.colorWarning},children:"\u5F3A\u5EA6\uFF1A\u4E2D"}):U==="ok"?(0,n.jsx)("div",{style:{color:ne.colorSuccess},children:"\u5F3A\u5EA6\uFF1A\u5F3A"}):(0,n.jsx)("div",{style:{color:ne.colorError},children:"\u5F3A\u5EA6\uFF1A\u5F31"})}},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]}),de==="phone"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(zr.Z,{className:"prefixIcon"})},name:$,placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,n.jsx)(nr.Z,{fieldProps:{size:"large",prefix:(0,n.jsx)(lr.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(R,L){return R?"".concat(L," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},phoneName:$,name:b,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var H=ve()(W()().mark(function R(L){var U;return W()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:U={},U[$]=L,m(t,r()({},U),function(pe){oe.ZP.success("\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001\uFF0C\u8BF7\u67E5\u770B\u624B\u673A\u77ED\u4FE1")});case 3:case"end":return w.stop()}},R)}));return function(R){return H.apply(this,arguments)}}()})]}),(0,n.jsxs)("div",{style:{marginBlockEnd:24},children:[(0,n.jsx)(Vr.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,n.jsx)(me,{})]}),(0,n.jsx)(J,{})]}))})},Jr=Gr,Qr=o(22530),Xr=function(e){var c=e.layoutType,m=c===void 0?"ModalForm":c,v=e.fieldProps,t=v===void 0?{}:v,i=e.url,g=e.ajax,d=g===void 0?ge:g,s=e.finishFun,x=s===void 0?function(){}:s,T=e.setMsg,$=T===void 0?function(Z){return Z.msg}:T,F=e.children,S=F===void 0?(0,n.jsx)(Fe.ZP,{children:"\u70B9\u51FB\u6211"}):F,y=e.detailUrl,P=e.detailSetData,C=e.isEdit,b=C===void 0?!1:C,I=e.record,k=I===void 0?{}:I,B=e.beforeSubmit,D=B===void 0?function(Z){return Z}:B,X=E.useRef();return(0,n.jsx)(ar,{children:(0,n.jsx)(Qr.Z,r()(r()(r()({isKeyPressSubmit:!0,formRef:X,layoutType:m,request:function(){var Z=ve()(W()().mark(function u(a){var N;return W()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(N=a,!(y&&b)){z.next=4;break}return z.next=4,d(y,r()({},a),function(J){N=P(J)});case 4:return z.abrupt("return",N||{});case 5:case"end":return z.stop()}},u)}));return function(u){return Z.apply(this,arguments)}}(),onFinish:ve()(W()().mark(function Z(){var u,a,N,G=arguments;return W()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return u=G.length>0&&G[0]!==void 0?G[0]:{},a=!1,N=r()(r()({},k),u),console.log(u),J.next=6,d(i,D(N,k,u),function(_){oe.ZP.success($(_)),x(_,N),a=!0});case 6:return J.abrupt("return",a);case 7:case"end":return J.stop()}},Z)}))},t),m==="ModalForm"?{modalProps:{getContainer:document.getElementById("root")},onOpenChange:function(u){t!=null&&t.onOpenChange&&t.onOpenChange(u)}}:{drawerProps:{destroyOnClose:!0}}),{},{params:r()(r()({},k),(t==null?void 0:t.params)||{}),trigger:S,columns:er((t==null?void 0:t.columns)||[],d,b)}))})},He=Xr,Yr=o(85418),qr=o(57381),_r=o(31673),en=o(16664),rn=o(86548),nn=function(e){var c=e.title,m=c===void 0?"\u9009\u62E9":c,v=e.ajax,t=v===void 0?ge:v,i=e.url,g=i===void 0?null:i,d=e.params,s=d===void 0?function(q){return{}}:d,x=e.addUrl,T=e.editUrl,$=e.deleteUrl,F=e.deleteFields,S=F===void 0?"idList":F,y=e.deleteField,P=y===void 0?"id":y,C=e.deleteFieldIsArr,b=C===void 0?!1:C,I=e.deleteParams,k=I===void 0?{}:I,B=e.addFormProFieldProps,D=B===void 0?{}:B,X=e.setData,Z=X===void 0?function(q){return q.data}:X,u=e.setMsg,a=u===void 0?function(q){return q.msg}:u,N=e.editField,G=N===void 0?"id":N,z=e.fieldProps,J=z===void 0?{fieldNames:{title:"title",key:"key",children:"children"}}:z,_=e.isSelect,ye=_===void 0?!1:_,me=e.detail,je=me===void 0?!0:me,ne=e.rowKey,Y=ne===void 0?"id":ne,ie=e.isLoadData,de=ie===void 0?!1:ie,xe=(0,E.useState)("loading"),te=re()(xe,2),se=te[0],H=te[1],R=J.fieldNames,L=R===void 0?{title:"title",key:"key",children:"children"}:R,U={ajax:t,addUrl:x,editUrl:T,deleteUrl:$,deleteFields:S,deleteField:P,editField:G,deleteFieldIsArr:b,deleteParams:k,addFormProFieldProps:D};(0,E.useEffect)(function(){g?w({},r()({},s({}))):H([])},[]);var he=function(A){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,le=A;!b&&!ee&&(le=A[0]);var ae=r()({},k);ee?ae[S]=le:ae[P]=le,t($,ae,function(O){oe.ZP.success(a(O)),w({},r()({},s({})))})},w=function(A){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t(g,r()(r()({},s(A)),ee),function(le){var ae=Z(le);H(function(O){return A.key?we(O,A.key,ae,L.key):ae})})},pe=function(A){var ee=A.children,le=A.ajax,ae=A.addUrl,O=A.record,Se=A.fieldProps,Ee=(0,E.useState)(G&&(O==null?void 0:O[Y])),be=re()(Ee,2),Be=be[0],Ce=be[1],Te=ae,De={};return G&&O!==null&&O!==void 0&&O[Y]&&(De[G]=O==null?void 0:O[Y],T&&(Te=T)),(0,n.jsx)(He,r()(r()({isEdit:Be,finishFun:function(){w({},r()({},s({})))},ajax:le,url:Te},D),{},{fieldProps:r()(r()(r()({},D.fieldProps),Se),{},{onOpenChange:function(){Ce(O?G&&(O==null?void 0:O[Y]):!1)}}),record:r()(r()(r()({},O),De),(D==null?void 0:D.record)||{}),children:ee}))},Ae=function(A){return[{key:"1",label:(0,n.jsx)(pe,r()(r()({},U),{},{addUrl:x,record:r()(r()({},A),{},{id:A[Y]}),fieldProps:{readonly:!0},children:(0,n.jsx)("a",{children:"\u8BE6\u60C5"})})),icon:(0,n.jsx)(en.Z,{}),disabled:!je},{key:"2",label:(0,n.jsx)(pe,r()(r()({},U),{},{addUrl:x,record:r()(r()({},A),{},{id:A[Y]}),children:(0,n.jsx)("a",{children:"\u7F16\u8F91"})})),icon:(0,n.jsx)(rn.Z,{}),disabled:!T},{key:"3",label:(0,n.jsx)(Xe.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",onConfirm:function(){he([A[Y]])},okText:"\u662F",cancelText:"\u5426",children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})}),icon:(0,n.jsx)(Je.Z,{}),disabled:!$}]},$e=function(A){return(0,n.jsx)(Yr.Z,{menu:{items:Ae(A)},getPopupContainer:function(){return document.body},trigger:["contextMenu"],children:(0,n.jsx)("span",{children:A[L.title]})})};return(0,n.jsxs)("div",{className:"durians_tree_body",children:[(0,n.jsxs)("div",{className:"durians_tree_body_title",children:[(0,n.jsx)("div",{className:"durians_tree_body_title_l",children:m}),(0,n.jsx)("div",{className:"durians_tree_body_title_r",children:(0,n.jsx)(pe,r()(r()({},U),{},{children:(0,n.jsx)(Qe.Z,{})}))})]}),(0,n.jsx)("div",{className:"durians_tree_body_tree",children:se==="loading"&&g?(0,n.jsx)(qr.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200}}):(0,n.jsx)(_r.Z,r()(r()({},de?{loadData:w}:{}),{},{treeData:se,titleRender:$e},J))})]})},ir=nn},42480:function(){},24654:function(){}}]);
